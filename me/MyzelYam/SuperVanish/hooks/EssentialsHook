package me.MyzelYam.SuperVanish.hooks;

import me.MyzelYam.SuperVanish.SuperVanish;

import org.bukkit.Bukkit;
import org.bukkit.entity.Player;

import com.earth2me.essentials.Essentials;
import com.earth2me.essentials.User;

public abstract class EssentialsHook {

    private static SuperVanish plugin = (SuperVanish) Bukkit.getPluginManager()
            .getPlugin("SuperVanish");

    public static void adjustVisibility(String pn, boolean hide) {
        try {
            Essentials plugin = (Essentials) Bukkit.getPluginManager()
                    .getPlugin("Essentials");
            Player p = Bukkit.getPlayer(pn);
            User u = plugin.getUser(p);
            if (hide == true) {
                if (!u.isHidden()) u.setHidden(true);
            } else {
                if (u.isHidden()) u.setHidden(false);
            }
        } catch (Exception e) {
            plugin.printException(e);
        }
    }
}
